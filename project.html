<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>살아온 시간 타이머 (기초)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#0b0b0f; color:#eaeaea; }
    .wrap { max-width: 720px; margin: 40px auto; padding: 16px; }
    .card { background:#141419; border:1px solid #2a2a33; border-radius:12px; padding:16px 18px; }
    .row { display:grid; grid-template-columns: 140px 1fr; gap:12px; align-items:center; margin-bottom:12px; }
    input[type="date"]{ background:#0f0f14; color:#eaeaea; border:1px solid #2a2a33; border-radius:8px; padding:10px 12px; }
    .stat { font-size: 28px; font-weight: 800; letter-spacing: .2px; }
    .sub  { color:#9ca3af; font-size: 12px; margin-top: 6px; }
    .grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin-top:12px; }
    .pill { background:#0f0f14; border:1px solid #2a2a33; border-radius:10px; padding:12px; }
    .value { font-weight: 700; font-size: 20px; }
    .muted { color:#9ca3af; font-size:12px; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>살아온 시간 타이머</h1>
    <p class="sub">생년월일을 고르면, 지금까지 살아온 시간을 1초마다 자동 갱신해 보여줘요.</p>

    <div class="card" style="margin-top:14px;">
      <div class="row">
        <label for="birth">생년월일</label>
        <input id="birth" type="date" value="2003-01-01" />
      </div>

      <div style="margin-top:8px;">
        <div class="stat" id="clock">생년월일을 불러오는 중…</div>
        <div class="sub" id="explain">(일 + 시:분:초, 연도는 평균 태양년 기준 근사)</div>
      </div>

      <div class="grid">
        <div class="pill">
          <div class="muted">총 일수</div>
          <div class="value" id="days">-</div>
        </div>
        <div class="pill">
          <div class="muted">총 시간</div>
          <div class="value" id="hours">-</div>
        </div>
        <div class="pill">
          <div class="muted">총 분</div>
          <div class="value" id="mins">-</div>
        </div>
        <div class="pill">
          <div class="muted">총 초</div>
          <div class="value" id="secs">-</div>
        </div>
        <div class="pill">
          <div class="muted">대략 몇 년?</div>
          <div class="value" id="years">- 년</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 평균 태양년(윤년 포함 근사)
    const MS_PER_YEAR = 365.2425 * 24 * 60 * 60 * 1000;

    const birthInput = document.getElementById('birth');
    const clockEl   = document.getElementById('clock');
    const daysEl    = document.getElementById('days');
    const hoursEl   = document.getElementById('hours');
    const minsEl    = document.getElementById('mins');
    const secsEl    = document.getElementById('secs');
    const yearsEl   = document.getElementById('years');

    let timerId;

    function start() {
      if (timerId) clearInterval(timerId);
      tick(); // 즉시 1회 갱신
      timerId = setInterval(tick, 1000); // 매초 갱신
    }

    function tick() {
      const birthStr = birthInput.value;
      if (!birthStr) {
        clockEl.textContent = '생년월일을 선택해주세요.';
        return;
      }

      // 로컬 자정 기준으로 고정 (타임존 혼동 최소화)
      const birthDate = new Date(birthStr + 'T00:00:00');
      const now = new Date();

      // 음수 방지
      const ms = Math.max(0, now.getTime() - birthDate.getTime());

      // 큰 단위들
      const totalSeconds = Math.floor(ms / 1000);
      const s = totalSeconds % 60;
      const totalMinutes = Math.floor(totalSeconds / 60);
      const m = totalMinutes % 60;
      const totalHours = Math.floor(totalMinutes / 60);
      const h = totalHours % 24;
      const d = Math.floor(totalHours / 24);

      // 보조 지표
      const approxYears = (ms / MS_PER_YEAR).toFixed(6);
      const totalMins   = Math.floor(ms / (1000 * 60));
      const totalHrs    = Math.floor(ms / (1000 * 60 * 60));
      const totalDays   = Math.floor(ms / (1000 * 60 * 60 * 24));

      // 화면 반영
      clockEl.textContent = `${number(d)}일  ${pad(h)}:${pad(m)}:${pad(s)}`;
      daysEl.textContent  = number(totalDays);
      hoursEl.textContent = number(totalHrs);
      minsEl.textContent  = number(totalMins);
      secsEl.textContent  = number(totalSeconds);
      yearsEl.textContent = `${approxYears} 년`;
    }

    function pad(n){ return String(n).padStart(2,'0'); }
    function number(n){ return n.toLocaleString('ko-KR'); }

    birthInput.addEventListener('change', start);
    // 초기 시작
    start();
  </script>
</body>
</html>